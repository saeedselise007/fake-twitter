(self.webpackChunktwitter=self.webpackChunktwitter||[]).push([[704],{7704:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ExploreModule:()=>U});var r=i(1116),s=i(5424),n=i(6599),a=i(7701),o=i(5366),c=i(1958),l=i(4081),u=i(1041),h=i(3675),d=i(490),p=i(6489),g=i(9062),f=i(527),m=i(3349);function Z(t,e){1&t&&o._UZ(0,"app-loader")}function b(t,e){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",7),o.TgZ(2,"mat-card"),o.TgZ(3,"mat-card-header",8),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().onClick(e.id)}),o._UZ(4,"div",9),o.TgZ(5,"mat-card-title"),o._uU(6),o.qZA(),o.TgZ(7,"mat-card-subtitle"),o._uU(8),o.qZA(),o.qZA(),o.TgZ(9,"mat-card-content"),o.TgZ(10,"div"),o.TgZ(11,"button",10),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().follow(e.id)}),o._uU(12,"Follow"),o.qZA(),o.TgZ(13,"button",10),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().Unfollow(e.id)}),o._uU(14,"Unfollow"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.BQk()}if(2&t){const t=e.$implicit;o.xp6(6),o.Oqu(null==t?null:t.username),o.xp6(2),o.Oqu(null==t?null:t.email)}}let w=(()=>{class t{constructor(t,e,i,r,s){this.service=t,this._router=e,this._snackBar=i,this._fb=r,this.authService=s}ngOnInit(){this.form=this._fb.group({search:[""]}),this.getAllUserList(),this.getSearchData()}getSearchData(){this.form.get("search").valueChanges.pipe((0,n.b)(()=>this.isLoading=!0),(0,a.b)(1e3)).subscribe(t=>{t&&this.searchingUserDetails(t),this.isLoading=!1},t=>{console.error(t.error)})}getAllUserList(){this.isLoading=!0,this.service.getAllUserList().subscribe(t=>{this.allUserList=t.users.filter(t=>t.id!==this.authService.authInfo.id),this.isLoading=!1})}onClick(t){this._router.navigateByUrl(`/home/user/${t}`).then(t=>t)}follow(t){this.isLoading=!0,this.service.requestFollow({user_id:t}).subscribe(t=>{this.openSnackBar(t.resp),this.isLoading=!1})}openSnackBar(t){this._snackBar.open(t,"X",{duration:3e3})}Unfollow(t){this.isLoading=!0,this.service.requestUnFollow({user_id:t}).subscribe(t=>{this.openSnackBar(t.resp),this.isLoading=!1})}searchingUserDetails(t){this.isLoading=!0,this.service.requestSearch({token:t}).subscribe(t=>{t&&(this.allUserList=t.search_results),this.isLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.Y),o.Y36(s.F0),o.Y36(l.ux),o.Y36(u.qu),o.Y36(h.e))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-explore"]],decls:9,vars:3,consts:[[1,"main-content"],[4,"ngIf"],[3,"formGroup"],[2,"padding","5px"],["appearance","outline",1,"w-full"],["matInput","","formControlName","search","placeholder","Search ..."],[4,"ngFor","ngForOf"],[1,"content-card"],[1,"example-card",3,"click"],["mat-card-avatar","",1,"example-header-image"],["mat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.YNc(1,Z,1,0,"app-loader",1),o.TgZ(2,"form",2),o.TgZ(3,"div",3),o.TgZ(4,"mat-form-field",4),o.TgZ(5,"mat-label"),o._uU(6,"Search"),o.qZA(),o._UZ(7,"input",5),o.qZA(),o.qZA(),o.qZA(),o.YNc(8,b,15,2,"ng-container",6),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",e.isLoading),o.xp6(1),o.Q6J("formGroup",e.form),o.xp6(6),o.Q6J("ngForOf",e.allUserList))},directives:[r.O5,u._Y,u.JL,u.sg,d.KE,d.hX,p.Nt,u.Fj,u.JJ,u.u,r.sg,g.R,f.a8,f.dk,f.kc,f.n5,f.$j,f.dn,m.lW],styles:[".example-header-image[_ngcontent-%COMP%]{background-image:url(https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=580&q=80);background-size:cover}.example-card[_ngcontent-%COMP%]{cursor:pointer}.w-full[_ngcontent-%COMP%]{width:100%}"]}),t})();var x=i(4518),k=i(4243),q=i(905);const v=[{path:"",component:w}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[c.Y,h.e],imports:[[r.ez,s.Bz.forChild(v),f.QW,x.vV,k.Ps,m.ot,q.q,u.UX,d.lN,p.c]]}),t})()}}]);