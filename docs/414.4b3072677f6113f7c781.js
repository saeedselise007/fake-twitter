(self.webpackChunktwitter=self.webpackChunktwitter||[]).push([[414],{2414:(n,t,e)=>{"use strict";e.r(t),e.d(t,{SignInModule:()=>v});var i=e(1116),s=e(5424),r=e(5959),o=e(5416),a=e(5366),u=e(1041),l=e(4081),d=e(3675),g=e(527),c=e(490),p=e(6489),m=e(3349),h=e(9062);function Z(n,t){1&n&&a._UZ(0,"app-loader")}function f(n,t){1&n&&(a.TgZ(0,"p",10),a._uU(1," The username and password were not recognized "),a.qZA())}const b=[{path:"",component:(()=>{class n{constructor(n,t,e,i,s){this._route=n,this._router=t,this.formBuilder=e,this._snackBar=i,this._authService=s,this.signInValid=!0,this.userEmail="janedoe@doe.com",this.password="notsosecurepassword",this.unsubscribeAll=new r.xQ,this.returnUrl=this._route.snapshot.queryParams.returnUrl||"/game"}ngOnInit(){}ngOnDestroy(){this.unsubscribeAll.next(!0),this.unsubscribeAll.complete()}onSubmit(){this.signInValid=!0,this.isLoading=!0,this._authService.logIn({email:this.userEmail,password:this.password}).pipe((0,o.R)(this.unsubscribeAll)).subscribe(n=>{if(console.log(n),n){const t=JSON.parse(atob(n.token.split(".")[1]));this.signInValid=!0,this._authService.setAuthInfoInLocalStorage(n.token,t),this.isLoading=!1,this._snackBar.open("Sign in successfully done!!!","X",{duration:3e3}),this._router.navigateByUrl("/home").then(n=>n)}},n=>{this._snackBar.open("Something went wrong",null,{duration:3e3}),this.signInValid=!1,this.isLoading=!1})}goToSignUp(){this._router.navigateByUrl("/sign-up").then(n=>n)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(s.gz),a.Y36(s.F0),a.Y36(u.qu),a.Y36(l.ux),a.Y36(d.e))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-sign-in"]],decls:26,vars:5,consts:[[4,"ngIf"],[3,"ngSubmit"],["signInForm","ngForm"],["matInput","","placeholder","Email","name","Email","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","placeholder","Password","name","password","required","",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"button"],["type","submit","mat-button","",3,"disabled"],[1,"button","mt-10"],["mat-button","",3,"click"],[1,"error"]],template:function(n,t){if(1&n&&(a.TgZ(0,"mat-card"),a.TgZ(1,"mat-card-title"),a._uU(2,"Login"),a.qZA(),a.TgZ(3,"mat-card-content"),a.YNc(4,Z,1,0,"app-loader",0),a.TgZ(5,"form",1,2),a.NdJ("ngSubmit",function(){return t.onSubmit()}),a.TgZ(7,"p"),a.TgZ(8,"mat-form-field"),a.TgZ(9,"input",3),a.NdJ("ngModelChange",function(n){return t.userEmail=n}),a.qZA(),a.TgZ(10,"mat-error"),a._uU(11," Please provide a valid email address "),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"p"),a.TgZ(13,"mat-form-field"),a.TgZ(14,"input",4),a.NdJ("ngModelChange",function(n){return t.password=n}),a.qZA(),a.TgZ(15,"mat-error"),a._uU(16," Please provide a valid password "),a.qZA(),a.qZA(),a.qZA(),a.YNc(17,f,2,0,"p",5),a.TgZ(18,"div",6),a.TgZ(19,"button",7),a._uU(20,"Login"),a.qZA(),a.qZA(),a.TgZ(21,"p"),a._uU(22,"Don\u2019t have an account?\xa0\xa0"),a.qZA(),a.TgZ(23,"div",8),a.TgZ(24,"button",9),a.NdJ("click",function(){return t.goToSignUp()}),a._uU(25,"SignUp"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&n){const n=a.MAs(6);a.xp6(4),a.Q6J("ngIf",t.isLoading),a.xp6(5),a.Q6J("ngModel",t.userEmail),a.xp6(5),a.Q6J("ngModel",t.password),a.xp6(3),a.Q6J("ngIf",!t.signInValid),a.xp6(2),a.Q6J("disabled",!n.form.valid)}},directives:[g.a8,g.n5,g.dn,i.O5,u._Y,u.JL,u.F,c.KE,p.Nt,u.Fj,u.Q7,u.JJ,u.On,c.TO,m.lW,h.R],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}.mt-10[_ngcontent-%COMP%]{margin-top:10px}"]}),n})()}];let A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[s.Bz.forChild(b)],s.Bz]}),n})();var q=e(5965),w=e(3815),T=e(4243),_=e(905);let v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[d.e],imports:[[i.ez,A,q.ae,g.QW,c.lN,m.ot,p.c,u.UX,u.u5,w.p9,T.Ps,_.q,l.ZX]]}),n})()}}]);